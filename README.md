# ğŸ¥¤ ì¥¬ìŠ¤ ë©”ì´ì»¤ í”„ë¡œì íŠ¸

(with [yun)](https://github.com/blanche37)

ğŸ“… ê³¼ì œ ì§„í–‰ ê¸°ê°„ : 2021-03-08 ~ 2021-03-19

<br>

## 1. Overview

ê³¼ì¼ì˜ ì¬ê³ ë¥¼ íŒŒì•…í•˜ê³ , ì¥¬ìŠ¤ë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤

ì¬ê³  ë¶€ì¡±ì‹œì—ëŠ” ì¬ê³ ë¥¼ ì¡°ì ˆí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ê°€ ìˆëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤

í•´ë‹¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì€ **iPhone - ê°€ë¡œ ì „ìš© ëª¨ë“œ** ë§Œì„ ì§€ì›í•©ë‹ˆë‹¤

<br>

### MVC

ë³µì¡í•˜ì§€ ì•Šì€ `ViewController` ì˜ êµ¬ì¡°ì™€ ê¸°ëŠ¥ì„ ê³ ë ¤í•˜ì—¬, MVC ì•„í‚¤í…ì³ë¥¼ ì ìš©í•˜ì˜€ìŠµë‹ˆë‹¤

![á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-09-14 á„‹á…©á„’á…® 2.56.09](/Users/leeyoungwoo/Desktop/á„‰á…³á„á…³á„…á…µá†«á„‰á…£á†º 2021-09-14 á„‹á…©á„’á…® 2.56.09.png)

<br>

### Storyboardë¥¼ í†µí•œ ë ˆì´ì•„ì›ƒ êµ¬ì„±

Console ì•±ì´ ì•„ë‹Œ UIë¥¼ ì ìš©í•˜ëŠ” ì²« ì•±ì¸ ë§Œí¼ ê°€ì‹œì„±ì´ í° ì¥ì ì¸ Storyboardë¥¼ ì´ìš©í•´ ë ˆì´ì•„ì›ƒì„ êµ¬ì„±í–ˆìŠµë‹ˆë‹¤. ê° ê¸°ê¸°ì— ëŒ€ì‘í•˜ê¸° ìœ„í•´ AutoLayoutì„ ì ìš© í–ˆìŠµë‹ˆë‹¤

<img src="https://user-images.githubusercontent.com/64566207/133024800-d3f52587-f8e3-4e63-ba3c-74b5eb394d6e.png" width="600">

<br>

<br>

## 2. ê¸°ëŠ¥

### ì¥¬ìŠ¤ ì£¼ë¬¸

ì£¼ë¬¸ ë²„íŠ¼ì„ í†µí•´ì„œ í•´ë‹¹ ì¥¬ìŠ¤ë¥¼ ì£¼ë¬¸í•˜ê³  ì¬ê³ ê°€ ìˆ˜ì •ë¨

<img src="https://user-images.githubusercontent.com/64566207/133024991-5a06c45d-2ae0-4e05-a427-ceaa0b97d128.gif" width="600">

<br>

### ì¬ê³  ë¶€ì¡±ì‹œ ì¬ê³  ìˆ˜ì •

ì¬ê³  ë¶€ì¡±ì‹œ ì¬ê³  ìˆ˜ì •ì„ ìœ„í•œ í˜ì´ì§€ë¡œ ì´ë™ (AlertControllerë¥¼ í†µí•´ì„œ í˜ì´ì§€ ì´ë™)

<img src="https://user-images.githubusercontent.com/64566207/133024969-840a21de-df20-4de7-b873-1ccd154506db.gif" width="600">

<br>

### ì¬ê³  ìˆ˜ì • í˜ì´ì§€ ì´ë™

ì¬ê³  ìˆ˜ì • í˜ì´ì§€ë¥¼ í†µí•´ì„œ ìˆ˜ì •, `CounterViewController` ì˜ í™”ë©´ìœ¼ë¡œ ëŒì•„ê°ˆ ì‹œ ì¬ê³  ìˆ˜ì •ì´ ë°˜ì˜ë¨

<img src="https://user-images.githubusercontent.com/64566207/133024988-7696d162-ff81-48c4-8ca0-584e17fbb33b.gif" width="600">

<br>

### ì ‘ê·¼ì„±ì˜ Font Size ë³€ê²½ì— ë”°ë¥¸ UI ë³€ê²½

`Accessibility Inspector`ë¥¼ í†µí•´ì„œ Font Size ë³€ê²½ -> UIì— ë°˜ì˜

<img src="https://user-images.githubusercontent.com/64566207/133205869-83b3074b-eb52-412f-b1e1-8035e4002a7b.gif" width="700">

<br>

<br>

## 3. ì„¤ê³„ ë° êµ¬í˜„

ì¥¬ìŠ¤ ì£¼ë¬¸ì˜ ì—­í• ì„ í•˜ëŠ” `JuiceMaker` , ê³¼ì¼ ì €ì¥ì„ í•˜ëŠ” `FruitStock` ê°ì²´ë¥¼ ì¤‘ì‹¬ìœ¼ë¡œ ì„¤ê³„í•¨. ì§€ì •ë˜ì–´ ìˆëŠ” `Juice` ì™€ `Fruit` ì¢…ë¥˜ë¥¼ ì‰½ê²Œ í‘œí˜„í•  ìˆ˜ ìˆë„ë¡ ì—´ê±°í˜• íƒ€ì…ì„ ì‚¬ìš©. `Juice` ë ˆì‹œí”¼ë¥¼ `Juice` íƒ€ì…ì˜ ì—°ì‚° í”„ë¡œí¼í‹°ë¡œ ë‘ê³ , í™œìš©í•  ìˆ˜ ìˆë„ë¡ í•¨. `FruitInfos` Dictionaryì˜ ê²½ìš°ëŠ” Value íƒ€ì…ì„ Structë¡œ ì„¤ê³„í•¨ì— ë”°ë¼ ì´í›„ í”„ë¡œì íŠ¸ í™•ì¥ì— ì—´ë¦° êµ¬ì¡°ë¥¼ ê°€ì ¸ì˜´

<img width="979" alt="ìŠ¤í¬ë¦°ìƒ· 2021-09-14 ì˜¤í›„ 2 40 55" src="https://user-images.githubusercontent.com/64566207/133207735-986b228d-b34f-489c-8f5a-7f7604c5b3f9.png">

<br>

### ì¥¬ìŠ¤ ì£¼ë¬¸

ê° ì¥¬ìŠ¤ ì£¼ë¬¸ ë²„íŠ¼ì„ í„°ì¹˜ ì‹œ ê° ì¥¬ìŠ¤ ë ˆì‹œí”¼ì— í•´ë‹¹í•˜ëŠ” ê³¼ì¼ ê°œìˆ˜ê°€ ê°ì†Œë˜ë©´ì„œ ì¥¬ìŠ¤ ì£¼ë¬¸ ì™„ë£Œ AlertControllerê°€ í™”ë©´ì— ìƒì„±

```swift
final class CounterViewController: UIViewController {
  //...
  private let juiceMaker: JuiceMaker = JuiceMaker.shared
  //...
  @IBAction private func orderJuice(_ sender: UIButton) {
    let juice = classifyButton(sender)
    do {
      try juiceMaker.makeJuice(using: juice)
      alertOfSuccess(juice: juice)
    } catch {
      alertOfFail()
    }
    for (fruit, _) in juice.recipe {
      updateFruitCountLabel(fruit)
    }
  }
  
  private func classifyButton(_ button: UIButton) -> Juice {
    switch button {
      case orderStrawberryJuiceButton:
      return .strawberry
      case orderStrawberryBananaJuiceButton:
      return .strawberryBanana
      case orderBananaJuiceButton:
      return .banana
      case orderPineappleJuiceButton:
      return .pineapple
      case orderKiwiJuiceButton:
      return .kiwi
      case orderMangoKiwiJuiceButton:
      return .mangokiwi
      default:
      return .mango
    }
  }
}
```

7ê°œì˜ ì¥¬ìŠ¤ ì£¼ë¬¸ ë²„íŠ¼ì´ ëª¨ë‘ `orderJuice(_ : UiButton)` ë©”ì„œë“œë¥¼ í„°ì¹˜ ì´ë²¤íŠ¸ì— ëŒ€í•œ actionìœ¼ë¡œ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì— ë§¤ê°œë³€ìˆ˜ë¡œ ë“¤ì–´ì˜¤ëŠ” button ì´ ì–´ë–¤ ë²„íŠ¼ì¸ì§€ ë¶„ë¥˜í•˜ëŠ” ë©”ì„œë“œë¥¼ ìƒì„±í–ˆìŠµë‹ˆë‹¤



**ì´ˆê¸°êµ¬í˜„ ë°©ë²•**

```swift
class OrderButton: UIButton {
  let juice: Juice
}
final class CounterViewController: UIViewController {
  private let juiceMaker: JuiceMaker = JuiceMaker.shared
  //...
  @IBAction private func orderJuice(_ sender: UIButton) {
    do {
      try juiceMaker.makeJuice(using: sender.juice)
      alertOfSuccess(juice: juice)
    } catch {
      alertOfFail()
    }
    for (fruit, _) in juice.recipe {
      updateFruitCountLabel(fruit)
    }
  }
}
```

ì´ˆê¸°ì—ëŠ” `View` ì— `juice` í”„ë¡œí¼í‹°ë¥¼ í†µí•´ì„œ í•´ë‹¹ ë²„íŠ¼ì´ ë‹´ë‹¹í•˜ê³  ìˆëŠ” ì¥¬ìŠ¤ë¥¼ ê°€ì§€ê²Œ í•˜ì˜€ìŠµë‹ˆë‹¤. í•˜ì§€ë§Œ, í•´ë‹¹ ë°©ë²•ì€`View` ê°€ `Model` ì— ëŒ€í•œ ì˜ì¡´ì„±ì„ ê°€ì§€ëŠ” ë°©ë²•ì´ê¸°ì— ë°°ì œí•˜ì˜€ìŠµë‹ˆë‹¤

<br>

### ì¬ê³  ìˆ˜ì • ë° ìˆ˜ì •ì‚¬í•­ CounterViewControllerì— ë°˜ì˜

ê³¼ì¼ ì¬ê³ ë¥¼ ë§¡ê³  ìˆëŠ” `FruitStock` ì„ ê°€ì§€ê³  ìˆìœ¼ë©°, ì¥¬ìŠ¤ ì£¼ë¬¸ì„ ë§¡ê³  ìˆëŠ” `JuiceMaker` ì˜ ê²½ìš° SingleTon íŒ¨í„´ì„ í†µí•´ì„œ í”„ë¡œì íŠ¸ ë‚´ í•˜ë‚˜ì˜ íƒ€ì… í”„ë¡œí¼í‹°ë¥¼ ê³µìœ í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ë¥¼ í†µí•´ì„œ ë‹¤ë¥¸ `viewController` ì—ì„œì˜ ë³€ê²½ì— ëŒ€í•´ ì‰½ê²Œ ë°˜ì˜í•  ìˆ˜ ìˆê²Œ ì„¤ê³„ í–ˆìŠµë‹ˆë‹¤.

```swift
class JuiceMaker {
  static let shared = JuiceMaker()
  private init()
 	//...
}

final class CounterViewController: UIViewController {
  override func viewWillAppear(_ animated: Bool) {
    super.viewWillAppear(animated)
    updateFruitCount()
  }
  
  private func updateFruitCount() {
    strawberryCountLabel.text = juiceMaker.count(of: .strawberry)
    bananaCountLabel.text = juiceMaker.count(of: .banana)
    kiwiCountLabel.text = juiceMaker.count(of: .kiwi)
    pineappleCountLabel.text = juiceMaker.count(of: .pineapple)
    mangoCountLabel.text = juiceMaker.count(of: .mango)
  }
}
```

<br>

### ì ‘ê·¼ì„±ì˜ Font Size ë³€ê²½ì— ë”°ë¥¸ UI ë³€ê²½

buttonì˜ ê²½ìš° storyboardì—ì„œ `Dynamic Type - Automatically Adjust Font` ì„¤ì •ì´ ì•ˆë˜ë¯€ë¡œ ì½”ë“œë¥¼ í†µí•´ ì„¤ì •, Labelì˜ ê²½ìš°ëŠ” sotryboardì˜ `Interface Builder`ë¥¼ í†µí•´ì„œ í•´ë‹¹ ì†ì„±ì„ ì„¤ì •

```swift
private func configureButtonsAccessibility() {
  orderStrawberryJuiceButton.titleLabel?.adjustsFontForContentSizeCategory = true
  orderStrawberryBananaJuiceButton.titleLabel?.adjustsFontForContentSizeCategory = true
  orderBananaJuiceButton.titleLabel?.adjustsFontForContentSizeCategory = true
  orderPineappleJuiceButton.titleLabel?.adjustsFontForContentSizeCategory = true
  orderKiwiJuiceButton.titleLabel?.adjustsFontForContentSizeCategory = true
  orderMangoJuiceButton.titleLabel?.adjustsFontForContentSizeCategory = true
  orderMangoKiwiJuiceButton.titleLabel?.adjustsFontForContentSizeCategory = true
}
```

<img width="820" alt="ìŠ¤í¬ë¦°ìƒ· 2021-09-14 ì˜¤í›„ 4 10 56" src="https://user-images.githubusercontent.com/64566207/133212019-389ed2af-0cb4-433d-92ca-70f6ed7b5eb0.png">

<br>

<br>

## íŠ¸ëŸ¬ë¸” ìŠˆíŒ…

### ì¬ê³  ìˆ˜ì •ì´ CounterViewControllerì— ë°˜ì˜ì´ ë˜ì§€ ì•ŠëŠ” ë¬¸ì œ



### ì ìš©í•´ ë³¸ ê²ƒë“¤

- extension ì„ í†µí•œ íƒ€ì… í™•ì¥
- UIAleretController, UIAlertAction
- NSLayoutConstraint
- SingleTon
- ê³ ì°¨í•¨ìˆ˜ allSatisfy

- í™•ì¥ì— ìš©ì´í•œ êµ¬ì¡°
- Accessibility

<br>

**í•´ë‹¹ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ í•™ìŠµí•œ ê°œë…**

- classì™€ structì˜ ì°¨ì´

